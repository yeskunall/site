code {
  counter-reset: line;
}

code[data-line-numbers] > [data-line]::before {
  counter-increment: line;
  content: counter(line);
  @apply mr-8 inline-block w-6 text-right;
}

/* `rehype-pretty-code` code blocks assume a grid layout */
div[data-rehype-pretty-code-fragment] code {
  display: grid;
}

div[data-rehype-pretty-code-fragment] pre {
  @apply mt-0;
}

div[data-rehype-pretty-code-title] {
  @apply rounded-t-md font-mono text-sm;
  background-color: rgba(3, 7, 22, 0.9);
  padding-left: 0.75rem;
  padding-right: 0.75rem;
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;
  line-height: 1rem;
}

div[data-rehype-pretty-code-title] + pre {
  @apply mt-0 rounded-t-none;
}

span[data-highlighted-chars] {
  --tw-shadow: 0 0 #0000;
  @apply rounded border-b-2 border-yellow-400/80 bg-[#854d0e80] p-0.5 font-semibold text-yellow-300;
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000),
    var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}

span[data-highlighted-chars] > span {
  @apply !text-amber-300/80;
}

span[data-highlighted-line] {
  @apply border-spacing-2 border-l-2 !border-amber-300 bg-slate-900/50;
}

span[data-line] {
  @apply overflow-x-auto whitespace-pre-wrap break-words;
}
